# 08 캡슐화와 역캡슐화

각 계층을 지나면서 덧붙여지는 정보를 `헤더`(_header_)라고 함

- `캡슐화`: **헤더가 추가되는 과정**
- `역캡슐화`: **헤더가 분리되는 과정**

<br>

## 1. 캡슐화

2대의 컴퓨터가 통신을 하기 위해서는 `포트 번호`, `IP 주소`,` MAC 주소` 정보가 필요함

- `캡슐화`(_Encapsulation_)는 **계층에 따라 이러한 정보를 담은 헤더를 데이터에 붙여가는 과정**을 의미
  - e.g., 상대방에게 보내려는 데이터(이메일 본문 등)에 그 데이터를 보내기 위해 필요한 정보들을 `헤더`라는 이름으로 붙여나감
- 캡슐화에서 중요한 것은, 헤더에 어떤 정보가 추가되는지 이해하는 것

<br>

![캡슐화](https://github.com/lbo728/ByungStudy/assets/72309817/c911a62c-d0e5-4d75-bdf1-db4ea62e5297)
_캡슐화_

<br>

#### 헤더 정보

| 계층             | 헤더 정보                     |
| ---------------- | ----------------------------- |
| 전송 계층        | 포트 정보                     |
| 네트워크 계층    | 송신자의 IP 정보              |
| 데이터 링크 계층 | 송수신자의 MAC 주소, 트레일러 |

<br>

- `트레일러`(_Trailer_): **전달한 데이터에 오류가 없는지 검출하기 위한 용도**로 사용

<br>
<br>

## 2. 역캡슐화

`역캡슐화`(_Decapsulation_)는 **헤더 정보가 하나씩 벗겨지는 것**

1. **데이터 링크 계층**에서 `MAC 주소`를 획득
2. **네트워크 계층**에서 `IP 주소`를 획득
3. **전송 계층**에서 통신하고자 하는 응용 프로그램의 특성에 따른 `포트 번호` 획득

![역캡슐화](https://github.com/lbo728/ByungStudy/assets/72309817/86c861af-aa8c-4f6f-af2f-1cd7eb66ffab)
_역캡슐화_

<br>

이와 같이 송･수신자는 **서로 통신하기 위한 정보를 모두 획득한 것**

<br>

![캡슐화와_역캡슐화](https://github.com/lbo728/ByungStudy/assets/72309817/1cd1e95c-49b0-4c84-8b18-67f30e64bc43)
_캡슐화와 역캡슐화_

<br>

`캡슐화와 역캡슐화`는 **통신하는 데 꼭 필요한 정보를 얻기 위한 과정**
