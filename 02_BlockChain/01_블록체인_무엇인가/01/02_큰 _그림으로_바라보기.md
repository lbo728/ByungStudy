# 큰 그림으로 바라보기(p25 ~ p37)
소프트웨어 아키텍처란 무엇이고 블록체인과 어떤 관계인가?
<br/>

## 소프트웨어 시스템에도 '엔진'이 있다

### [결제시스템의 계층과 측면]

|  | 기능적 측면 | 비기능적 측면 |
| --- | --- | --- |
| 응용계층 | 입금 | 멋진 사용자 환경 |
|  | 출금 | 사용 편의성 |
|  | 이체 | 빠른 이체 |
|  | 계좌조회 | 다중 접속 처리 |
| 구현계층 | ? | 24시간 서비스 |
|  |  | 금융사기 방지 |
|  |  | 무결성 유지 |
|  |  | 개인정보 보호 |

? 부분은  자동차의 엔진을 선택하듯,시스템을 작동시키는 데 적절한 '엔진'이 무엇인지는 각자가 결정해야하함

<br/>

## '엔진'인 시스템 아키텍처는 두 종류가 있다
소프트웨어 시스템을 구현하는 방법은 다양하나, 시스템 아키텍처는 모두 필수적으로 결정해야함
- 시스템 아키텍처: 구성요소를 구조화하고 구성요소 간 관계를 설정하는 방식을 의미
  - 대표적으로 중앙 통제 방식***centralized***방식과 분산***distributed***방식이 있다.
    - 중앙 통제 소프트웨어 시스템: 구성요소들이 모두 하나의 중앙 요소에 연결되며 중앙 요소를 가운데 두고 나머지 요소들이 빙 둘러쌈
    - 분산 시스템: 시스템을 통제하거나 조정하는 요소 없이 서로 연결된 네트워크 구조 형성

### 중앙 통제 소프트웨어 시스템 vs 분산 시스템
그림에서 각 원은 시스템 구성요소(노드***Node***라 부름)이고, 선은 구성요소 간 연결을 나타냄
![image](https://github.com/lbo728/BlockChainStudy/assets/72309817/96a380af-32f8-4473-97e5-871dd4e23363)



>노드, 컴퓨터, 피어(peer)는 동일한 의미를 가질 때가 많지만 반드시 그렇지는 않다. 구조에 따라 단일 컴퓨터가 복수의 노드 역할을 할 수도 있고,
>반대로 하나의 노드에 복수의 컴퓨터가 연결되어 있을 수도 있다. 또 전체 시스템 노드 중 나와 직접 연결된 노드를 특별히 피어라 부르기도 하는데,
>특히 이더리움(ethereum)에서 그런 의미로 구분해 사용한다. 보통의 책에서는 전체 시스템 내 한 요소임을 강조할 때는 노드라는 용어를 주로 사용하고,
>일대일의 의미가 강조되거나 노드를 사용해 특정 행위를 하는 사람의 관점에서 애기할 때는 피어(또는 사용자)를 사용하며, 공유하는 자원 측면에서 기술할 때는
>컴퓨터란 용어를 사용한다. 그러나 이 책에서는 세 용어를 크게 구분하지 않고 동일한 의미로 쓴다.

<br/>

## 분산 시스템의 장점

### 1. 계산 능력이 더 뛰어나다
- 서로 연결된 모든 컴퓨터의 계산 능력이 합쳐져 발현됨
  - 대부분 단일 컴퓨터보다 강력한 계산 능력을 가짐
  - ex) 상대적으로 성능이 낮은 여러 대의 컴퓨터로 이루저니 분산 시스템(승) vs 성능 좋은 한 대의 슈퍼 컴퓨터(패)

### 2. 비용이 절감된다
- 여러 대의 컴퓨터로 구성되므로 초기 구성 비용은 개별 컴퓨터보다 더 많이 듬
  - 그러나, 슈퍼 컴퓨터를 제작하고 유지 운영하는 비용을 고려하면 슈퍼 컴퓨터 쪽이 훨씬 더 큰 비용
  - 심지어 분산 시스템은 개별 컴퓨터가 교체될 때 전체 시스템에 별 영향을 끼치지 않음

### 3. 더 안정적이다
- 분산 시스템에서는 개별 컴퓨터가 고장나더라도 전체 네트워크는 문제 없이 작동하기 때문에, 단일 슈퍼 컴퓨터보다 안정적

### 4. 자연스럽게 확장된다
- 시스템에 컴퓨터를 추가하면 손쉽게 전체 계산 능력을 높일 수 있음
  - 즉, 계산 능력을 점진적으로 증대시킬 수 있어 계산 요구량이 점점 더 증가하는 조직에 적합(유연한 확장성)
  - 이와 반대로 단일 슈퍼 컴퓨터는 더 성능이 뛰어난 컴퓨터로 교체해야만 능력 증대가 가능(불연속적)

<br/>

## 분산 시스템의 단점

### 1. 조정 오버헤드가 발생한다
- 분산 시스템에는 구성요소들을 조정하는 중앙 요소가 없음
  - -> 구성요소들 스스로 조정 해야하는데 모두 동등한 지위를 가지는 까닭에 조정이 쉽지 않아 그 작업에 자원이 소모됨
  - -> 조정 오버헤드***coordination overhead*** 발생
### 2. 통신 오버헤드가 발생한다
- 조정을 위해 소통이 필요하기 때문에 분산 시스템 내 각 컴퓨터들은 서로 통신을 주고 받음
  - -> 계산 능력의 일부가 통신 프로토콜 지원과 메시지의 송수신 및 처리에 소모됨
  - -> 통신 오버 헤드***communication overhead*** 발생
 
### 3. 네트워크 의존도가 높다
- 모든 통신에는 정보 전달을 위한 매체가 필요하고, 분산 시스템의 컴퓨터들은 네트워크를 통해 통신
  - -> 거의 모든 네트워크는 자체 결함과 장애 가능성이 내제되게 마련이고, 분산 시스템을 구성하는 컴퓨터 사이 통신과 조정에 영향을 끼침
  - -> 그럼에도 네트워를 통해 분산 시스템, 통신, 노드 간 협력이 이뤄지기 때문에 네트워크 의존도가 높을 수밖에 없음
### 4. 프로그램이 복잡해진다
- 컴퓨터 계산 문제 해결을 위해 소프트웨어 필요
  - -> 앞서 말한 단점들로 인해 분산 시스템의 모든 소프트웨어는 단일 시스템에서는 불필요한 조정, 통신, 네트워크 이용에 관련된 추가적인 문제를 해결해야함
  - -> 소프트웨어 복잡
 ### 5. 보안에 신경써야 한다
- 네트워크를 통한 통신은 계산 작업을 할 때 데이터의 전송과 공유가 꼭 필요하다는 것을 의미
  - -> 악의를 가진 개체가 정보에 접근해 약용하는 보안 문제 발생 가능성 있음
  - -> 때문에 철저히 대비해야 하며, 노드 간 통신이 이루어지는 네트워크에 대한 접근 제한을 완화할수록 분산 시스템의 보안문제는 심각해짐

<br/>

## 사용자가 많아질수록 더 강력해지는 분산 P2P 시스템
피어 투 피어***Peer to Peer***네트워크, 즉 P2P 네트워크는 분산 시스템의 특수한 형태
- 개별 컴퓨터(노드)로 구성된 P2P 시스템은 중앙 노드의 조정 없이 네트워크의 모든 구성우너이 서로에게 계산 자원(처리 능력, 저장 공간, 데이터 혹은 네트워크 대역폭 등)을 제공
- 각 노드는 시스템 내에서 동등한 권리와 역할을 가지며, 공급자인 동시에 소비자가 됨
- 파일 공유, 콘텐츠 배분, 비밀 보호 등 응용 가능 -> '사용자들의 컴퓨터를 분산 시스템을 구성하는 노드로 만든다'

<br />

## 중앙 통제와 분산 시스템의 장점만 모은 혼합 시스템도 있다
- 분산 시스템 내의 중앙 통제:
  구성요소들 모두가 중앙의 큰 원에 직접 연결됨 -> 중앙 통제 시스템
-  중앙 통제 시스템 내의 분산 시스템:
  중앙 큰 원에 집중된 것처럼 보이지만, 중앙 요소의 내부는 분산 시스템

![image](https://github.com/lbo728/BlockChainStudy/assets/72309817/9ac33695-9dc7-4370-97dd-d7289b24c13c)

<br/>

## 분산 시스템인지 구분하는 방법
혼합 시스템의 등장으로 분산 시스템을 명확히 식별하기 어려워짐
- 구분접: 전체 시스템을 동시에 종료할 수 있는 단일 구성요소가 있는지 찾아보기 -> 있다면 분산 시스템 X
  - ex) 데이터베이스, 이름이나 사용자 등록장소, 로그인 또는 로그오프 요소, 응급 스위치 등
 
<br/>

## 큰 그림으로 본 블록체인의 목적
- 블록체인의 목적은 분산 시스템의 무결성을 구현하고 유지하는 것
  - 차의 엔진을 고르듯, 소프트웨어 시스템을 디자인할 때 어떤 아키텍처를 사용할 것인지는 목적 달성을 위한 수단일 뿐

