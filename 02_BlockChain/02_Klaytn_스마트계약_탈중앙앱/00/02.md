# 블록체인 네트워크, 노드

블록체인은 기본적으로 `P2P 네트워크`

- 블록체인은 한명 이상의 참여자가 있는 네트워크에서 관리
- 네트워크 참여자 전원(`노드`혹은 `피어`)은 **모든 블록을 동일한 순서로 저장하여** 모두 같은 블록체인을 유지

<details>
<summary>클라이언트 서버 아키텍처란</summary>
<div markdown="1">

일반적으로 우리가 사용하는 서비스는 **클라이언트 서버 아키텍처**로 이루어짐

1. 단말에서 어느 서비스에 접속한다.
   → `클라이언트`를 사용함을 의미
2. `클라이언트`는 `서버`라는 **큰 연산력이 있는 어떤 큰 컴퓨터 혹은 컨텐츠를 가지고 있는 컴퓨터**에 요청
3. 그 요청 경과를 `서버`가 전해줌
   → 이것이 리퀘스트 리스폰스 구조, 즉 `클라이언트 서버 아키텍처`

**_추가 참고: [클라이언트 서버 모델 | 위키백과](https://ko.wikipedia.org/wiki/%ED%81%B4%EB%9D%BC%EC%9D%B4%EC%96%B8%ED%8A%B8_%EC%84%9C%EB%B2%84*%EB%AA%A8%EB%8D%B8)***

</div>
</details>

 <br>

<br>

> **대표적인 P2P 시스템: 토렌트**
> 내가 데이터를 가지고 있고, 이 데이터를 공유하 데 있어서 누구 하나가 서버가 되는 것이 아님.
>
> - 내가 켜져 있다면 데이터를 서빙할 수 있고, 내가 꺼져있다 해도 같은 데이터를 가진 다른 누군가가 데이터를 서빙해 줄 수 있음

<br>
<br>

![ ](https://github.com/lbo728/BlockChainStudy/assets/72309817/b6d6bec4-eb03-47c5-9964-f85ce06afe13)

<br>

### 합의(Consensus)

- 자격이 있는 참여자는 **블록을 제안**(propose)할 수 있음
- 블록 제안 자격은 네트워크마다 상이 (e.g. `PoW`)
- 노드들은 제안자가 올바른 자격을 취득했는지, 제안된 블록이 올바른지 `검증` 뒤 블록을 자신의 체인에 추가
- `정족수` 또는 정해진 기준을 만족하는 수의 노드가 블록을 자신의 체인에 추가하면 `합의`가 이뤄졌다고 판단
- 해시 퍼즐을 풀면 **블록을 제한할 수 있는 권리**를 가짐

<br>

![](https://github.com/lbo728/BlockChainStudy/assets/72309817/d17ad762-7fbf-4e67-9435-c6a2eb571a48)

<br>

### 정리

- 블록체인은 **한명 이상의 참여자가 있는** 네트워크에서 관리
- 네 트워크 참여자 전원은 **모든 블록을 동일한 순서로 저장하여** 모두 같은 블록체인을 유지
- **자격이 있는 참여자**는 블록을 제안할 수 있음
  - 블록 제안 자격은 네트워크마다 상이
- 블록이 체인에 추가됨 → 참여자들이 **새 블록을 자신의 체인에** 추가
- 따라서 새로운 블록이 체인에 추가되려면 네트워크의 `합의`가 필요
  - 어느 한 주체가 단독으로 결정하는 구조가 아닌, **여러 참여자가 `합의`를 통해 결정**하기 때문에 블록체인은 `탈중앙화` 되어 있다고 표현
  - 합의 방법은 네트워크마다 상이
- 참여자 전원은 이전 블록들을 저장하고 있으므로 새로운 블록의 `무결성`을 확인 가능
- 새롭게 제안되는 블록은 **참여자들이 검증 및 합의할 수 있는 형태**여야 함 → `투명성`
- 한번 쓰여진 블록은 **이전의 합의를 번복할 수 있지 않는 한** 변경될 수 없음 → `불변성`
